<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Virtual Librarian</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;600&display=swap');

html, body {
  margin:0;
  padding:0;
  height:100%;
  width:100%;
  font-family:'Baloo 2',cursive,sans-serif;
  background:url('backgroundwithbubble.png') no-repeat center center fixed;
  background-size:cover;
  overflow-x:hidden;
  overflow-y:hidden;
}

/* Crawl warning text */
.crawl {
  width:100%;
  color:#333;
  padding:10px 0;
  font-size:36px;
  overflow:hidden;
  white-space:nowrap;
  text-shadow:2px 2px 8px rgba(0,0,0,0.6);
  z-index:10;
  position:fixed;
  top:0;
  left:0;
}
.crawl span {
  display:inline-block;
  padding-left:100%;
  animation:scroll-left 50s linear infinite;
}
@keyframes scroll-left {
  0% {transform:translateX(0);}
  100% {transform:translateX(-100%);}
}

/* Container for main content */
.container {
  display:flex;
  flex-direction:row;
  align-items:flex-start;
  justify-content:flex-start;
  padding:40px;
  gap:60px;
  margin-top:80px;
}

/* Chat bubble wrapper */
.chatbubble-wrapper {
  position: relative;
  width:35vw;
  min-width:300px;
  height:80vh;
  border-radius:40px 40px 40px 0; /* rounded bubble */
  overflow:hidden;
  background:rgba(255,255,255,0.6);
  box-shadow: 0 8px 25px rgba(0,0,0,0.3);
  border:4px solid #1e3a8a;
}

/* Bubble tail pointing left */
.chatbubble-wrapper::after {
  content:"";
  position:absolute;
  bottom:20px;
  left:-30px;
  width:0;
  height:0;
  border-top:20px solid transparent;
  border-bottom:20px solid transparent;
  border-right:30px solid rgba(255,255,255,0.6);
}

/* Chatbot iframe inside bubble */
.chatbot {
  width:100%;
  height:100%;
  border:none;
}

/* Sidebar with buttons/QR code */
.sidebar {
  display:flex;
  flex-direction:column;
  align-items:center;
  max-width:380px;
  color:#fff;
  text-shadow:1px 1px 4px rgba(0,0,0,0.7);
  margin-top:50px;
}

.qr-section {
  text-align:center;
  margin-bottom:20px;
}
.qr-section h3 {
  font-size:36px;
  margin-bottom:10px;
  color:#ffcc00;
  text-shadow:0 0 8px rgba(0,0,0,0.7);
  padding:8px 12px;
  border-radius:8px;
  background-color:rgba(0,0,0,0.3);
  display:inline-block;
}
.qr-section img {
  width:173px;
  height:173px;
  display:block;
  margin:0 auto;
  border:3px solid #1e3a8a;
  box-shadow:0 0 12px rgba(30,58,138,0.7);
  border-radius:12px;
}

.button-box {
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:20px;
  margin-top:20px;
}
.button-box button {
  padding:12px 20px;
  font-size:18px;
  border:none;
  border-radius:12px;
  background-color:#1e3a8a;
  color:#fff;
  cursor:pointer;
  transition: background 0.3s, transform 0.2s;
}
.button-box button:hover {
  background-color:#3b82f6;
  transform:scale(1.05);
}

/* Responsive */
@media(max-width:900px){
  .container {
    flex-direction:column;
    align-items:center;
    gap:30px;
    padding:20px;
    margin-top:60px;
  }
  .chatbubble-wrapper {
    width:90vw;
    height:60vh;
  }
  .sidebar {
    margin-top:20px;
  }
  .qr-section h3 {font-size:28px;}
  .qr-section img {width:140px;height:140px;}
  .button-box button {font-size:16px;padding:10px 15px;}
}
</style>

<script>
function openDestiny() {
  const url = "https://busdlibrary.follettdestiny.com/cataloging/servlet/presentadvancedsearchredirectorform.do?l2m=Library%20Search&tm=TopLevelCatalog&l2m=Library+Search";
  const width = 800;
  const height = 600;
  const left = window.screenX + (window.outerWidth - width) / 2;
  const top = window.screenY + (window.outerHeight - height) / 2;
  const features = `popup=yes,width=${width},height=${height},left=${left},top=${top},resizable=yes,scrollbars=yes,noopener,noreferrer`;
  const popup = window.open(url, "DestinyPopup", features);
  if (popup) { popup.focus(); setTimeout(() => popup.focus(), 300); }
  else { alert("Popup blocked! Please allow popups for this site."); }
}

function openSora() {
  const url = "https://soraapp.com/library/bellflower";
  const width = 800;
  const height = 600;
  const left = window.screenX + (window.outerWidth - width) / 2;
  const top = window.screenY + (window.outerHeight - height) / 2;
  const features = `popup=yes,width=${width},height=${height},left=${left},top=${top},resizable=yes,scrollbars=yes,noopener,noreferrer`;
  const popup = window.open(url, "SoraPopup", features);
  if (popup) { popup.focus(); setTimeout(() => popup.focus(), 300); }
  else { alert("Popup blocked! Please allow popups for this site."); }
}
</script>
</head>

<body>
<div class="crawl">
  <span>‚ö†Ô∏è AI may give incorrect or outdated information ‚Äî verify important details. ‚Ä¢ Never share personal or sensitive data. ‚Ä¢ This chatbot is a support tool, not a replacement for professional advice.</span>
</div>

<div class="container">
  <div class="chatbubble-wrapper">
    <iframe class="chatbot" src="https://www.playlab.ai/embedded/cma1lng2i17v6rgigh3onpno7" allow="clipboard-write"></iframe>
  </div>

  <div class="sidebar">
    <div class="qr-section">
      <h3>Visit Our YouTube</h3>
      <img src="https://api.qrserver.com/v1/create-qr-code/?size=216x216&data=https://www.youtube.com/c/mrevans" alt="QR code for Mr. Evans YouTube channel">
    </div>

    <div class="button-box">
      <button onclick="openDestiny()">üîç Open Library Catalog</button>
      <button onclick="openSora()">üìö Open eBook Catalog</button>
    </div>
  </div>
</div>
</body>
</html>
